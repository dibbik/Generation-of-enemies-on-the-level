Продвинутая генерация врагов на уровне


CharacterMovement - отвечает за физическое перемещение:
Движение в заданном направлении с заданной скоростью
Плавный поворот персонажа к цели или направлению движения
Остановка движения при необходимости
Принудительный поворот для атаки (без движения)
Управление Rigidbody и настройки физики

HealthSystem - отвечает за систему здоровья:
Хранение текущего и максимального здоровья
Обработка получения урона и лечения
Отслеживание состояния жизни/смерти
Вызов события при смерти для других систем
Автоматическое восстановление здоровья при респавне

AttackSystem - отвечает за боевую систему:
Управление дистанцией атаки, уроном и кулдаунами
Отслеживание состояния атаки (для анимаций)
Проверка возможности атаковать в данный момент
Выполнение самой атаки по цели
Синхронизация времени между атаками

TargetFinder - отвечает за поиск целей:
Активный поиск (для врагов) - ищет ближайшую цель по всей карте
Пассивный поиск (для героев) - ищет цели только в радиусе обнаружения
Проверка валидности целей (живые, с HealthSystem)
Гибкая настройка радиуса обнаружения

Hero - отвечает за поведение героя:
Патрулирование по заданным точкам маршрута
Реакция на врагов при их приближении
Управление переключением между патрулированием и боем
Координация движения и атаки через другие компоненты
Обработка смерти и уведомление системы респавна

Enemy - отвечает за поведение врага:
Активный поиск и преследование героев
Переключение между состоянием преследования и атаки
Координация движения к цели и атаки при приближении
Обработка смерти и возврат в пул врагов

CharacterAnimation - отвечает за визуальную часть:
Синхронизация анимаций с состоянием персонажа
Переключение между анимациями ходьбы и атаки
Получение данных от Movement и Attack систем
Управление параметрами Animator'а

HeroPool - отвечает за управление героями:
Создание и хранение пула героев для оптимизации
Выдача героев при спавне и возврат при смерти
Связывание экземпляров с их префабами
Управление жизненным циклом объектов героев

EnemyPool - отвечает за управление врагами:
Создание пулов для разных типов врагов
Контроль общего лимита врагов на сцене
Оптимизированный спавн через повторное использование
Автоматическое сброс здоровья при активации

SpawnHero - отвечает за появление героев:
Первоначальный спавн героев на карте
Респавн героев после смерти с задержкой
Управление визуальными эффектами респавна (Respawn Circle)
Настройка маршрутов патрулирования для каждого героя
Координация с HeroPool для получения объектов

EnemySpawner - отвечает за появление врагов:
Контроль общего количества врагов на карте
Спавн врагов по точкам с индивидуальными кулдаунами
Глобальная задержка между спавнами для баланса
Отслеживание активных врагов на сцене

EnemySpawnPoint - отвечает за точки появления врагов:
Определение позиций для спавна врагов на карте
Хранение настроек для конкретной точки (префаб, задержка)
Визуализация точек спавна в редакторе через Gizmos

Архитектурные принципы:
Каждый компонент отвечает только за одну задачу
Четкое разделение логики поведения, движения, боя и здоровья
Использование событий для связи между системами

Компонентный подход вместо наследования

Оптимизация через пуллинг объектов
